# ğŸ“˜ **RAG ë¬¸ì„œ ìˆ˜ì •(Update)**

## âœ” URL

**PATCH /rag/documents/{documentId}**

---

## âœ” ì„¤ëª…

- ì—…ë¡œë“œëœ RAG ë¬¸ì„œì˜ **ë©”íƒ€ë°ì´í„°(title, domain)ë¥¼ ìˆ˜ì •**í•œë‹¤.
- íŒŒì¼ ìì²´ë¥¼ êµì²´í•˜ëŠ” ê²½ìš°ì—ëŠ” ìƒˆë¡œìš´ `fileUrl`ì„ ì…ë ¥í•˜ë©´ ë¨.
  - íŒŒì¼ êµì²´ ì‹œ ì‹œìŠ¤í…œì€ **í…ìŠ¤íŠ¸ ì¶”ì¶œ â†’ ì²­í¬ ì¬ìƒì„± â†’ ì„ë² ë”© ì¬ìƒì„±**ì„ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ìˆ˜í–‰í•œë‹¤.
- ë‹¨, ì„ë² ë”© ì¬ìƒì„± ë¹„ìš©ì´ ìˆìœ¼ë¯€ë¡œ ë³´í†µ íŒŒì¼ êµì²´ëŠ” ê´€ë¦¬ìë§Œ ìˆ˜í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì œí•œí•œë‹¤.

---

## âœ” ê¶Œí•œ

`ROLE_ADMIN`, `ROLE_RAG_MANAGER`

---

# ğŸ“Œ **Request**

| key     | ì„¤ëª…                         | íƒ€ì…   | ì˜µì…˜     | Nullable | ì˜ˆì‹œ                                |
| ------- | ---------------------------- | ------ | -------- | -------- | ----------------------------------- |
| title   | ë¬¸ì„œ ì œëª©                    | string | optional | true     | `"ì‚°ì—…ì•ˆì „ ê·œì •ì§‘ v4"`              |
| domain  | ë¬¸ì„œ ë„ë©”ì¸(HR/ë³´ì•ˆ/ê°œë°œ ë“±) | string | optional | true     | `"HR"`                              |
| fileUrl | êµì²´í•  PDF/ë¬¸ì„œ URL(S3 ë“±)   | string | optional | true     | `"https://s3.../regulation_v4.pdf"` |

ğŸ”¹ **ëª¨ë“  í•„ë“œëŠ” optional**ì´ë©°, ì œê³µëœ ê°’ë§Œ ìˆ˜ì •ëœë‹¤.

---

### ğŸ“Œ Request Example

```json
{
  "title": "ì‚°ì—…ì•ˆì „ ê·œì •ì§‘ v4",
  "fileUrl": "https://s3.company.com/rag/docs/hr_safety_v4.pdf"
}
```

---

# ğŸ“Œ **Response**

| key        | ì„¤ëª…           | íƒ€ì…             | Nullable | ì˜ˆì‹œ                    |
| ---------- | -------------- | ---------------- | -------- | ----------------------- |
| documentId | ë¬¸ì„œ ID        | number           | false    | 101                     |
| status     | ë¬¸ì„œ ì²˜ë¦¬ ìƒíƒœ | string           | false    | `"REPROCESSING"`        |
| updatedAt  | ìˆ˜ì • ì‹œê°      | string(datetime) | false    | `"2025-01-02T09:30:00"` |

### ğŸ“Œ Response Example

```json
{
  "documentId": 101,
  "status": "REPROCESSING",
  "updatedAt": "2025-01-02T09:30:00"
}
```

---

# ğŸ“Œ **Status**

| status                        | ì„¤ëª…                           |
| ----------------------------- | ------------------------------ |
| **200 OK**                    | ìˆ˜ì • ì„±ê³µ                      |
| **400 Bad Request**           | ì˜ëª»ëœ í•„ë“œ/ì§€ì›í•˜ì§€ ì•ŠëŠ” í˜•ì‹ |
| **401 Unauthorized**          | ì¸ì¦ ì‹¤íŒ¨                      |
| **403 Forbidden**             | ê¶Œí•œ ì—†ìŒ                      |
| **404 Not Found**             | ë¬¸ì„œ ì—†ìŒ                      |
| **500 Internal Server Error** | ì„œë²„ ì˜¤ë¥˜                      |
